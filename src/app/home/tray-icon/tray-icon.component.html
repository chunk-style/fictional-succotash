<button
  class="overflow-visible"
  mat-icon-button
  matTooltip="Notifications"
  [matMenuTriggerFor]="notificationsMenu"
>
  <mat-icon
    [matBadge]="notificationsCount"
    [matBadgeHidden]="hideBadge"
    matBadgeColor="warn"
    >notifications</mat-icon
  >
</button>
<mat-menu #notificationsMenu="matMenu">
  <mat-nav-list *ngIf="notificationsCount > 0" dense class="pad-left-sm">
    <ng-template let-last="last" ngFor let-notify [ngForOf]="notifications">
      <a mat-list-item [routerLink]="['/notifications', notify.id]">
        <h4 matLine>
          <span class="text-wrap">{{ notify.subject }}</span>
        </h4>
        <p matLine>{{ notify.timestamp | timeAgo }}</p>
      </a>
      <mat-divider *ngIf="!last"></mat-divider>
    </ng-template>
  </mat-nav-list>
  <button mat-menu-item routerLink="/notifications">
    See All Notifications
  </button>
</mat-menu>
